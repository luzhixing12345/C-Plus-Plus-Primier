# 本目录用于记录一些C/C++的扩展知识

> 这部分知识并不是必须掌握的,算是作为C++开发者的"基本常识"和交流吐槽用的谈资吧(笑)

## $? 和 %ERRORLEVEL%

这两个变量名是用于查看上一条命令的返回值,分别是UNIX和Windows操作系统

创建一个简单的C++程序命名为`test.cpp`

```cpp
int main() {
    return 0;
}
```

编译并且执行

```bash
g++ -o test test.cpp
./test
```

- UNIX

  ```bash
  echo $?
  ```

- Windows

  ```bash
  echo %ERRORLEVEL%
  ```

对于刚才的程序,输出的结果为`0`.如果我们修改返回值为-1,再次运行我们可以发现在windows的输出是`-1`,但是在unix输出是`255`,**这一点需要注意**

> linux中退出代码具有特殊含义,详见[exitcode](https://tldp.org/LDP/abs/html/exitcodes.html)
>
> exit只接受0-255范围内的整数所以-1显示255(-2显示254).
>
> 建议程序员将错误返回代码设置为64-113范围内,return 1用于捕获一般错误如除数为0,退出代码 1表示许多可能的错误，因此它在调试中并不是特别有用.一些退出代码具有特殊含义,因此对于用户指定的退出参数应避免使用

成功执行的命令默认的返回值都是0,我们可以通过此命令来查看未成功执行/可执行程序异常返回值