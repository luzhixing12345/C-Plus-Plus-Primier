# 输入 & 输出

C++语言并未定义任何输入输出(IO)语句,取而代之包含了一个全面的标准库用来提供IO机制,有很多用途.我们依次来介绍一下

`iostream`库包含两个基础类型`istream` `ostream` 分别表示输入流和输出流

> 一个流是一个字符序列,是从IO设备读取出或者写入IO设备的,最常见IO设备的是键盘,鼠标和显示器
>
> 术语"流"想要表达的意思是随着时间推移,字符是生成/消耗的

## 标准输入输出对象

标准库定义了4个IO对象,`cin` `cout` `cerr`(警告和错误信息) `clog`(运行时的一般性信息,日志文件)

`<<` 和 `>>` 运算符作为输入输出的情况下是经过运算符重载

- `<<`左侧的运算对象必须是一个ostream,右侧的运算对象是要打印的值.此运算符将给党的值写到给定的ostream对象中.由于输出运算符的结果是其左侧运算对象,所以当我们使用多个运算符连接的时候

  ```cpp
  std::cout << a << b;
  ```

  等价于

  ```cpp
  (std::cout << a) << b;
  ```

- `>>`左侧的运算符对象必须是一个istream,接收一个对象作为右侧的运算对象.它从给定的istream中读入数据,并存入给定的对象中.输入运算符返回其左侧运算对象作为计算结果(与上例相同),因此我们可以将一系列输入请求合并到单一语句中.

  ```cpp
  int a,b,c;
  std::cin >> a >> b >> c;
  ```

当使用一个istream对象作为条件时,它的效果是检测流的状态.

```cpp
int value;
while (std::cin >> value) {
    ...
}
```

如果流是有效的,即流未遇到错误,那么检测成功(继续监听流输入),如果遇到文件结束符(EOF)或者遇到一个无效输入那么istream对象的状态变为无效,会使条件变为假

> 这里的无效输入指的是读入的数据不符合右侧对象的数据类型,比如不是一个整数

当从键盘向程序输入数据时,Windows使用 <kbd>ctrl</kbd> + <kbd>z</kbd> + <kbd>enter</kbd> .UNIX使用 <kbd>ctrl</kbd> + <kbd>d</kbd>

如果输入输出的对象是一个类/结构体,我们也可以重载它的`>>` `<<`来完成任意形式的输入输出

> 关于运算符重载的相关概念请参考[重载](overload.md)